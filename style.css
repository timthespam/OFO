:root{
    --dark-bg1:#05020a;
    --dark-bg2:#0b0720;
    --dark-panel:rgba(8,6,18,0.7);
    --dark-glow1:#7b2fff;
    --dark-glow2:#00e5ff;
    --light-bg1:#fffafd;
    --light-bg2:#fff8ff;
    --light-panel:rgba(255,245,250,0.8);
    --light-glow1:#ff66cc;
    --light-glow2:#66e0ff;
    --text-dark:#eaf6ff;
    --text-light:#111;
  }
  
  *{box-sizing:border-box;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;margin:0;padding:0}
  html,body{height:100%;width:100%;-webkit-font-smoothing:antialiased}
  body{transition:background 0.35s,color 0.35s;overflow:hidden}
  
  /* MENU layout */
  .screen{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}
  #title{font-size:110px;font-weight:900;letter-spacing:10px;margin-bottom:18px;animation:pulse 2200ms infinite}
  @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.04)}100%{transform:scale(1)}}
  .menu-buttons{display:flex;flex-direction:column;gap:14px;align-items:center}
  .btn{width:280px;padding:14px 18px;border-radius:14px;border:2px solid transparent;background:transparent;cursor:pointer;font-weight:800;font-size:20px;transition:transform .14s ease,box-shadow .14s ease}
  .btn.small{width:150px;padding:10px 14px;font-size:15px}
  .btn.secondary{opacity:0.9}
  .panel{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);min-width:320px;padding:22px;border-radius:14px;display:flex;flex-direction:column;align-items:center;gap:12px;backdrop-filter:blur(8px)}
  .panel-title{font-size:26px;font-weight:800}
  .panel-text{font-size:15px;text-align:center;color:inherit}
  .panel-controls{display:flex;gap:12px;margin-top:6px;flex-wrap:wrap;justify-content:center}
  .hidden{display:none}
  
  /* Arena / HUD */
  #game{position:absolute;inset:0;overflow:hidden}
  #arena{position:absolute;inset:0}
  #hud{position:fixed;left:18px;top:18px;display:flex;gap:12px;align-items:center;z-index:120}
  #score{font-weight:800;font-size:18px;padding:8px 12px;border-radius:10px}
  #combo{font-weight:700;font-size:14px;padding:6px 10px;border-radius:10px}
  #quit{position:fixed;right:18px;top:18px;z-index:120}
  
  /* beat circle */
  .beatCircle{position:absolute;border-radius:50%;pointer-events:auto;display:flex;align-items:center;justify-content:center;font-weight:800;color:rgba(255,255,255,0.95);user-select:none;will-change:transform,opacity;width:80px;height:80px;transform:translate(-50%,-50%);box-shadow:0 0 22px rgba(0,0,0,0.15);z-index:110}
  
  /* custom cursor */
  .custom-cursor{position:fixed;width:18px;height:18px;border-radius:50%;transform:translate(-50%,-50%);z-index:200;pointer-events:none;box-shadow:0 0 10px rgba(0,0,0,0.4)}
  
  /* ad slots */
  .ad-slot{position:fixed;width:120px;height:60px;background:transparent;z-index:1000;pointer-events:none}
  #ad-top-left{left:12px;top:12px}
  #ad-top-right{right:12px;top:12px}
  #ad-bottom-left{left:12px;bottom:12px}
  #ad-bottom-right{right:12px;bottom:12px}
  
  /* DARK THEME */
  body.dark{background:linear-gradient(180deg,var(--dark-bg1),var(--dark-bg2));color:var(--text-dark)}
  body.dark #title{color:var(--text-dark);text-shadow:0 0 30px var(--dark-glow1),0 0 60px var(--dark-glow2)}
  body.dark .panel{background:var(--dark-panel);color:var(--text-dark);box-shadow:0 10px 40px rgba(0,0,0,0.45);border:1px solid rgba(255,255,255,0.02)}
  body.dark .btn{border-color:rgba(255,255,255,0.04);color:var(--text-dark);background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent)}
  body.dark .btn:hover{box-shadow:0 0 30px var(--dark-glow1)}
  body.dark .beatCircle{background:radial-gradient(circle at 30% 30%,var(--dark-glow2),var(--dark-glow1));color:#041}
  
  /* LIGHT THEME */
  body.light{background:linear-gradient(180deg,var(--light-bg1),var(--light-bg2));color:var(--text-light)}
  body.light #title{color:var(--text-light);text-shadow:0 0 20px var(--light-glow1),0 0 40px var(--light-glow2)}
  body.light .panel{background:var(--light-panel);color:var(--text-light);box-shadow:0 10px 40px rgba(0,0,0,0.06);border:1px solid rgba(0,0,0,0.04)}
  body.light .btn{border-color:rgba(0,0,0,0.06);color:var(--text-light);background:linear-gradient(180deg,rgba(255,255,255,0.9),rgba(255,255,255,0.75))}
  body.light .btn:hover{box-shadow:0 0 26px var(--light-glow1)}
  body.light .beatCircle{background:radial-gradient(circle at 30% 30%,var(--light-glow1),var(--light-glow2));color:#fff}
  body.light .custom-cursor{box-shadow:0 0 8px rgba(0,0,0,0.08)}
  
  /* hide native cursor when playing & chosen */
  .hide-native { cursor: none !important; }
  
  /* responsive */
  @media (max-width:600px){
    #title{font-size:64px}
    .btn{width:82vw}
    .btn.small{width:44vw}
    .panel{min-width:86vw;padding:16px}
  }
  